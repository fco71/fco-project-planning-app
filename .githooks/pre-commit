#!/usr/bin/env bash
set -euo pipefail

if git diff --cached --quiet; then
  echo "[pre-commit] No staged changes. Skipping secret guard."
  exit 0
fi

echo "[pre-commit] Running secret guard on staged files..."
npm run --silent guard:secrets:staged
